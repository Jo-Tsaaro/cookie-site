<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Consent Form</title>

    <!-- Google Material Icons -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <img
        src="https://qapco.com/storage/2016/06/QAPCO-Logo.png"
        alt="QAPCO Logo"
        class="logo"
      />

      <h2>Confirm Your Consent</h2>
      <p>
        We value your privacy. By providing consent, you allow us to process
        your data responsibly for recruitment purposes while safeguarding your
        rights. View our
        <a href="https://qapco.com/privacy-policy/">Privacy Policy</a> for
        details.
      </p>

      <form id="registrationForm" method="post">
        <label for="email">Email Address</label>
        <p class="helper-text">
          <span class="material-icons info-icon">info</span>
          This email address must match the one you plan to use during Candidate
          Registration in the next step.
        </p>

        <input
          type="email"
          id="email"
          name="email"
          placeholder="Enter your email"
          required
        />

        <label>Choose Your Preference</label>
        <div class="radio-group">
          <label class="radio-inline">
            <input
              type="radio"
              id="accept"
              name="consent"
              value="accept"
              required
            />
            <span
              ><strong>Accept</strong> – I agree to the processing of my data
              for recruitment.</span
            >
          </label>

          <label class="radio-inline">
            <input type="radio" id="decline" name="consent" value="decline" />
            <span><strong>Decline</strong> – I do not agree.</span>
          </label>
        </div>

        <button type="submit">Continue to Candidate Registration</button>
      </form>
    </div>

    <script>
      // ✅ Form submission handler
      document
        .getElementById("registrationForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          // ✅ Check selected consent value
          const consentValue = document.querySelector('input[name="consent"]:checked').value;

          if (consentValue === "accept") {
            // ✅ Proceed only if 'Accept' is selected
            window.location.href =
              "https://career012.successfactors.eu/career?company=qatarpetroP";
          } else {
            // ✅ Show popup alert if 'Decline' is selected
            alert("⚠️ You cannot proceed to the QAPCO Candidate Registration page without accepting the consent.");
          }
        });
    </script>

    <!-- securiti.ai consent collection API script (if required in future) -->

  
                                <script src='https://cdn-prod.eu.securiti.ai/consent/form-consent-sdk.js'></script>
                                <script>window.addEventListener('load', function() {
    FormConsentSDK.initialize({
        codeGenMetadata:{"formPropertyId":"5","formSelector":"[id*=\"registrationForm\"]","subjectIdentifiers":[{"name":"Email Address","selector":"[name = \"email\"]","isPrimary":true}],"consentIdentifiers":[{"type":"radio","name":"consent","selector":"[name = \"consent\"]","propertyId":90,"consentValue":"accept"}],"consentTrigger":{"action":"click","selector":"accept"}},
        url: 'https://app.eu.securiti.ai/privaci/v1/',
        authToken:'8c71a8e9-fd17-46f8-aa07-05b0155f9413',
        orgId:'1',
        onConsentSuccess: null,
        onConsentFailure: null
    })
})</script>  
  
    

  </body>
</html>
