<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cookie Site</title>
  <!-- load consent defaults -->
  <script src="https://https://cdn-app5.securiti.ai
/consent/cookie_banner/afd75cd2-cbaa-4d9b-8b84-37598fb2e16f
/220e7806-dd3d-41f5-b7be-43670baa4c4c
/google_consent_defaults.js">
</script>
<!-- Securiti banner -->
  <script>
  (function () {
    var s = document.createElement('script');
    s.src = 'https://cdn-app5.securiti.ai/consent/cookie-consent-sdk-loader.js';
    s.setAttribute('data-tenant-uuid', 'afd75cd2-cbaa-4d9b-8b84-37598fb2e16f');
    s.setAttribute('data-domain-uuid', '220e7806-dd3d-41f5-b7be-43670baa4c4c');
    s.setAttribute('data-backend-url', 'https://app5.securiti.ai');
    s.setAttribute('data-skip-css', 'false');
    s.defer = true;
    var parent_node = document.head || document.body;
    parent_node.appendChild(s);
  })()
  </script>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WVHPVQH7');</script>
  <!-- End Google Tag Manager -->

  

  <!-- <script src="cart.js" defer></script> -->
  <!-- <link rel="stylesheet" href="style.css" /> -->

  <!-- Consent form Script -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const emailInput = document.getElementById("email");
      const consentOptions = document.getElementsByName("consent");
      const submitBtn = document.getElementById("submitBtn");
      const form = document.getElementById("consentForm");

      function checkFormValidity() {
        const emailValue = emailInput.value.trim();
        const selectedConsent = [...consentOptions].some(option => option.checked);
                
        submitBtn.disabled = !(emailValue && selectedConsent);
      }

      emailInput.addEventListener("input", checkFormValidity);
      consentOptions.forEach(option => option.addEventListener("change", checkFormValidity));

      form.addEventListener("submit", (event) => {
        event.preventDefault();
        const emailValue = emailInput.value.trim();
        const selectedConsent = document.querySelector('input[name="consent"]:checked').value;

        localStorage.setItem("userConsent", JSON.stringify({ email: emailValue, consent: selectedConsent }));
                
        alert("Your consent has been saved locally.");
        window.location.href = "candidate-profile.html"; // Redirect after submission
      });
    });
  </script>

</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WVHPVQH7"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  
  <!-- Site body -->
   <!-- <h1>My Store</h1>

  <div class="product">
    <h2>Product A</h2>
    <p>Price: $10</p>
    <button class="add-to-cart" data-id="1" data-name="Product A" data-price="10">Add to Cart</button>
  </div>

  <div class="product">
    <h2>Product B</h2>
    <p>Price: $20</p>
    <button class="add-to-cart" data-id="2" data-name="Product B" data-price="20">Add to Cart</button>
  </div> -->

  <!-- Consent form Body -->
 <div class="container">
    <h2>Confirm Your Consent</h2>
    <p>We value your privacy. By providing consent, you allow us to process your data responsibly for recruitment purposes while safeguarding your rights. 
    View our <a href="privacy-policy.html" target="_blank">Privacy Policy</a> for details.</p>
        
    <form id="consentForm">
      <label for="email">Email</label>
      <p>Provide the exact email address used to register your candidate profile.</p>
      <input type="email" id="email" name="email" placeholder="Enter your registered email" required>
            
      <fieldset>
        <legend>Your Choice</legend>
        <div class="radio-option">
          <input type="radio" id="accept" name="consent" value="accept">
          <label for="accept"><strong>Accept</strong> – I agree to the processing of my data for recruitment.</label>
        </div>
                
        <div class="radio-option">
          <input type="radio" id="decline" name="consent" value="decline">
          <label for="decline"><strong>Decline</strong> – I do not agree. (This will not affect your ability to proceed.)</label>
          </div>
      </fieldset>

      <button type="submit" id="submitBtn" disabled>Continue to Candidate Profile</button>
    </form>
    </div> 
  
  <!-- You may style the button by overriding class "cmp-revoke-consent" -->
  <!-- <button class="cmp-revoke-consent">Manage Cookie Preferences</button> -->

  <script>
    // Simple localStorage-based cart
    document.querySelectorAll('.add-to-cart').forEach(function(button) {
      button.addEventListener('click', function() {
        const id = this.dataset.id;
        const name = this.dataset.name;
        const price = parseFloat(this.dataset.price);
        const item = {
          item_id: id,
          item_name: name,
          price: price,
          quantity: 1
        };

        // Save to localStorage
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart.push(item);
        localStorage.setItem('cart', JSON.stringify(cart));

        // Push to dataLayer for GTM
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
          event: 'add_to_cart',
          ecommerce: {
            items: [item]
          }
        });

        console.log('Added to cart:', item);
      });
    });
  </script>
  
  <!-- consent form securiti script -->
  <script src='https://cdn-app5.securiti.ai/consent/form-consent-sdk.js'></script>
  <script>window.addEventListener('load', function() {
    FormConsentSDK.initialize({
        codeGenMetadata:{"formPropertyId":"1","formSelector":"[id*=\"consentForm\"]","subjectIdentifiers":[{"name":"Email","selector":"[name = \"email\"]","isPrimary":true}],"consentIdentifiers":[{"type":"radio","name":"consent","selector":"[name = \"consent\"]","propertyId":13715,"consentValue":"accept"}],"consentTrigger":{"action":"click","selector":"[id = \"submitBtn\"]"}},
        url: 'https://app5.securiti.ai/privaci/v1/',
        authToken:'32c9c281-7428-427e-bab7-183bdfebc9d5',
        orgId:'1',
        onConsentSuccess: null,
        onConsentFailure: null
    })
  })
</script>
</body>
</html>
