
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Consent Form</title>

    <!-- Google Material Icons -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <img
        src="https://qapco.com/storage/2016/06/QAPCO-Logo.png"
        alt="QAPCO Logo"
        class="logo"
      />

      <h2>Supplier Registration Consent</h2>
      <p>
        To process your supplier registration, QAPCO collects and uses personal
        and business information such as contact details, company documents, and
        compliance records. Your data will be used only for registration, due
        diligence, legal compliance, and future procurement communication. For
        details on how we use and protect your data. View our
        <span class="open-pdf">Privacy Policy</span>
        for details.
      </p>

      <form id="registrationForm" method="post">
        <label for="email">Email Address</label>
        <p class="helper-text">
          <span class="material-icons info-icon">info</span>
          This email address must match the one you plan to use during Supplier
          Registration in the next step.
        </p>

        <input
          type="email"
          id="email"
          name="email"
          placeholder="Enter your email"
          required
          autocomplete="email"
        />

        <label>Choose Your Preference</label>
        <div class="radio-group">
          <label class="radio-inline">
            <input
              type="radio"
              id="accept"
              name="consent"
              value="accept"
              required
            />
            <span
              ><strong>Accept</strong> – I agree to the processing of my data
              for recruitment.</span
            >
          </label>

          <label class="radio-inline">
            <input type="radio" id="decline" name="consent" value="decline" />
            <span><strong>Decline</strong> – I do not agree.</span>
          </label>
        </div>

        <button type="submit" id="submitBtn" disabled>
          Continue to Supplier Registration
        </button>
      </form>
    </div>

    <!-- Decline Modal -->
    <div id="declineModal" class="alert-modal" role="dialog" aria-modal="true">
      <div class="alert-content">
        <span
          class="material-icons close-icon"
          role="button"
          aria-label="Close modal"
          >close</span
        >
        <span class="material-icons alert-icon" aria-hidden="true"
          >warning</span
        >
        <h3>Consent Required</h3>
        <p>
          We respect your privacy choices. Without your consent, we are unable
          to create a Supplier profile or proceed with registration.<br /><br />
          To continue, please review our privacy policy and confirm acceptance
          of our data processing terms.
        </p>
      </div>
    </div>

    <!-- PDF Modal -->
    <div id="pdfModal" class="modal" role="dialog" aria-modal="true">
      <div class="modal-content">
        <span class="close">&times;</span>
        <iframe id="pdfViewer" src="" frameborder="0"></iframe>
      </div>
    </div>

    <!-- Modal & Form Scripts -->
    <script>
      const acceptRadio = document.getElementById("accept");
      const declineRadio = document.getElementById("decline");
      const submitBtn = document.getElementById("submitBtn");
      const declineModal = document.getElementById("declineModal");
      const closeDecline = document.querySelector(".close-icon");

      const toggleButtonState = () => {
        submitBtn.disabled = !(acceptRadio.checked || declineRadio.checked);
      };

      acceptRadio.addEventListener("change", toggleButtonState);
      declineRadio.addEventListener("change", toggleButtonState);

      document
        .getElementById("registrationForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const selectedConsent = document.querySelector(
            'input[name="consent"]:checked'
          );
          if (!selectedConsent) return;

          if (selectedConsent.value === "decline") {
            declineModal.style.display = "block";
          } else {
            window.location.href =
              "https://qapco.supplier-eu.ariba.com/ad/register/SSOActions?type=full";
          }
        });

      closeDecline.addEventListener("click", () => {
        declineModal.style.display = "none";
      });

      // PDF Modal Logic
      const modal = document.getElementById("pdfModal");
      const closeBtn = document.querySelector(".close");
      const iframe = document.getElementById("pdfViewer");
      const openPdfSpan = document.querySelector(".open-pdf");

      openPdfSpan.addEventListener("click", function () {
        iframe.src =
          "https://qapco.com/wp-content/uploads/2025/07/IN-IS-07-AP02-Rev3.pdf";
        modal.style.display = "block";
      });

      closeBtn.addEventListener("click", function () {
        modal.style.display = "none";
        iframe.src = "";
      });

      window.addEventListener("click", function (e) {
        if (e.target === modal) {
          modal.style.display = "none";
          iframe.src = "";
        }
      });
    </script>

    <!-- Securiti SDK -->
  
                                <script src='https://cdn-prod.eu.securiti.ai/consent/form-consent-sdk.js'></script>
                                <script>window.addEventListener('load', function() {
    FormConsentSDK.initialize({
        codeGenMetadata:{"formPropertyId":"7","formSelector":"[id*=\"registrationForm\"]","subjectIdentifiers":[{"name":"Email Address","selector":"[name = \"email\"]","isPrimary":true}],"consentIdentifiers":[{"type":"radio","name":"consent","selector":"[name = \"consent\"]","propertyId":95,"consentValue":"accept"}],"consentTrigger":{"action":"submit","selector":""}},
        url: 'https://app.eu.securiti.ai/privaci/v1/',
        authToken:'8c71a8e9-fd17-46f8-aa07-05b0155f9413',
        orgId:'1',
        onConsentSuccess: null,
        onConsentFailure: null
    })
})</script>
  </body>
</html>
